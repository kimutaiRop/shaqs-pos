import{R as m,r as c,j as s,a as e}from"./app-71bfcee7.js";import p from"./Sidebar-3605611c.js";import{C as h,f}from"./Calendar-0115eb81.js";import{f as g}from"./helper-76ebf62d.js";const w=()=>{let o=new URLSearchParams(window.location.search),t=new Headers;t.append("Content-Type","application/json"),t.append("Authorization",`Bearer ${localStorage.getItem("token")}`);let n=o.get("date");m.useState([]);const[l,i]=c.exports.useState([]),d=()=>{let a="/api/payments"+(n?`?date=${n}`:"");fetch(a,{method:"GET",headers:t}).then(r=>r.json()).then(r=>{i(r.data)})};return c.exports.useEffect(()=>{d();const a=setInterval(()=>{d()},1e4);return()=>{clearInterval(a)}},[]),s("div",{className:"grid grid-cols-7 h-screen w-full",children:[e(p,{}),s("main",{className:"bg-primary w-full col-span-6 h-full grid grid-cols-9",children:[e("div",{className:"col-span-3 bg-secondary",children:e(h,{onDateChange:a=>{console.log(a),window.location.href=`/payments?date=${f(a,"yyyy-MM-dd")}`},selected:new Date(n||"").setHours(0,0,0,0)})}),s("div",{className:"col-span-6  w-full flex flex-col  p-2 space-y-2",children:[e("div",{className:"flex bg-secondary py-4 justify-between items-center px-3 border rounded",children:s("h2",{className:"text-2xl",children:["Payments for ",e("b",{children:new Date().toDateString()})]})}),s("div",{className:"grid grid-cols-5 font-bold pb-3 px-2",children:[e("span",{children:"TRANS ID"}),e("span",{children:"ORDER NO"}),e("span",{children:"METHOD"}),e("span",{children:"DATE"}),e("span",{children:"AMOUNT"})]}),e("div",{className:"w-full",children:l&&l.map(a=>s("div",{className:"grid grid-cols-5 justify-between items-center px-5 py-3 bg-gray-100 rounded-md",children:[e("div",{className:"",children:a.transaction_id}),e("span",{className:"font-bold text-sm col-span-1",children:a.order_id})," ",e("span",{className:"font-bold text-sm col-span-1",children:a.method||" Customer"}),e("span",{className:"font-bold text-sm col-span-1",children:new Date(a.created_at).toDateString()}),e("span",{className:"font-bold text-sm col-span-1",children:g(a.total)})," "]},a.id))})]})]})]})};export{w as default};

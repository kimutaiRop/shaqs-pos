import{R as c,j as a,F as u,a as e}from"./app-71bfcee7.js";import f from"./Dialog-498f786d.js";const N=()=>{const[i,t]=c.useState(!1),[m,h]=c.useState(null),[n,o]=c.useState(!1);return a(u,{children:[a("button",{onClick:()=>t(!0),className:"bg-[#fae886] px-5 py-1.5 rounded shadow flex items-center space-x-2",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:"Add Dish"})]}),i&&e(f,{close:()=>t(!1),children:e("div",{className:"max-w-screen-md mx-auto bg-white h-full w-full overflow-auto",children:a("form",{onSubmit:s=>{s.preventDefault(),o(!0);const p=new URLSearchParams(window.location.search).get("category_id"),l=new FormData;l.append("name",s.target.name.value),l.append("price",s.target.price.value),l.append("description",s.target.description.value),l.append("image",m),l.append("category_id",p);let d=new Headers;d.append("Authorization",`Bearer ${localStorage.getItem("token")}`),fetch("/api/menu",{method:"POST",body:l,headers:d}).then(r=>r.json()).then(r=>{setTimeout(()=>{t(!1),window.location.reload(),o(!1)},2e3)}).catch(r=>console.log("error",r))},className:"flex flex-col space-y-4 p-4",children:[e("div",{className:"flex justify-center items-center py-10",children:e("h1",{className:"font-bold text-xl",children:"Add New Dish"})}),a("div",{className:"flex flex-col space-y-1",children:[e("label",{className:"",children:"Dish Name"}),e("input",{name:"name",className:"w-full border-2 border-black/70 rounded p-2"})]}),a("div",{className:"flex flex-col space-y-1",children:[e("label",{className:"",children:"Dish Price"}),e("input",{type:"number",name:"price",className:"w-full border-2 border-black/70 rounded p-2"})]}),a("div",{className:"flex flex-col space-y-1",children:[e("label",{className:"",children:"Dish Image"}),e("input",{onChange:s=>h(s.target.files[0]),type:"file",className:"w-full border-2 border-black/70 rounded p-2"})]}),a("div",{className:"flex flex-col space-y-1",children:[e("label",{className:"",children:"Short Description"}),e("textarea",{name:"description",className:"w-full border-2 border-black/70 rounded p-2"})]}),e("div",{className:"w-full",children:e("button",{type:"submit",disabled:n,className:"w-full bg-accent rounded p-2",children:"Add Dish"})})]})})})]})};export{N as AddDish,N as default};

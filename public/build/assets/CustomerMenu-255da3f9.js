import{R as h,r as o,j as r,a as s}from"./app-77b91c57.js";import{f as p}from"./helper-76ebf62d.js";const g=()=>{const[c,m]=h.useState([]),i=t=>{let a="/api/menu";t&&(a+=`?category_id=${t}`);let e=new Headers;e.append("Authorization",`Bearer ${localStorage.getItem("token")}`),fetch(a,{method:"GET",headers:e}).then(l=>l.json()).then(l=>m(l.data)).catch(l=>console.log("error",l))};o.exports.useEffect(()=>{i()},[]);const[n,d]=h.useState([]);return o.exports.useEffect(()=>{let t="/api/menu-category",a=new Headers;a.append("Authorization",`Bearer ${localStorage.getItem("token")}`),fetch(t,{method:"GET",headers:a}).then(e=>e.json()).then(e=>d(e.data)).catch(e=>console.log("error",e))},[]),o.exports.useEffect(()=>{let t=setInterval(()=>{let a=n[0].id,e=[...n];e.push(e.shift()),d(e),a=e[0].id,i(a)},3e4);return()=>{clearInterval(t)}},[n]),r("main",{className:"bg-black text-white relative w-full col-span-6 h-full grid grid-cols-5 xl:grid-cols-5 px-3 py-14 gap-4 max-h-screen min-h-screen",children:[r("div",{className:"absolute top-3 left-3 flex space-x-2 items-center",children:[s("div",{className:"bg-accent h-10 w-5 "}),s("div",{className:"bg-accent h-10 w-5 "}),s("div",{className:"bg-accent h-10 w-5 "}),s("h2",{className:"text-accent font-bold text-2xl uppercase",children:(t=>{var a,e;return((e=(a=t[0])==null?void 0:a.category)==null?void 0:e.name)||"All Menu"})(c)})]}),c&&c.map((t,a)=>r("div",{className:"flex flex-col space-y-3 relative",children:[s("div",{className:"absolute p-2 bg-accent right-6 top-1 font-bold text-xl -rotate-0 text-white",children:p(t.price)}),r("div",{className:"border-2 border-accent rounded-xl aspect-[9/6] flex flex-col justify-between items-center py-2",children:[s("div",{className:"relative w-full",children:s("div",{className:"absolute -top-6 -left-4 aspect-square w-3/5",children:s("img",{src:`${t.image}`})})}),r("div",{className:"flex flex-col p-2 w-full",children:[s("h2",{className:"text-accent text-xl font-semibold capitalize",children:t.name}),s("span",{className:"text-xs",children:t.description})]})]})]},a))]})};export{g as default};
